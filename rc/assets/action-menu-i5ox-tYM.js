import{r as he,a as It}from"./lit-element-vV9fql9z.js";import{x as me}from"./lit-html-paDGiEfB.js";import{n as Kt}from"./property-CzN8u98o.js";import{r as ge}from"./reset.style-B0CQ8619.js";import{b as ye}from"./property-types-CkH-zh1n.js";import{e as be}from"./class-map-2iHk_WiG.js";var k="top",S="bottom",M="right",R="left",Ct="auto",ft=[k,S,M,R],K="start",ot="end",we="clippingParents",Qt="viewport",nt="popper",xe="reference",Nt=ft.reduce(function(e,t){return e.concat([t+"-"+K,t+"-"+ot])},[]),Zt=[].concat(ft,[Ct]).reduce(function(e,t){return e.concat([t,t+"-"+K,t+"-"+ot])},[]),Oe="beforeRead",Ae="read",Ee="afterRead",Ce="beforeMain",Pe="main",De="afterMain",je="beforeWrite",ke="write",Re="afterWrite",Le=[Oe,Ae,Ee,Ce,Pe,De,je,ke,Re];function V(e){return e?(e.nodeName||"").toLowerCase():null}function B(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function G(e){var t=B(e).Element;return e instanceof t||e instanceof Element}function $(e){var t=B(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Pt(e){if(typeof ShadowRoot>"u")return!1;var t=B(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Be(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var i=t.styles[r]||{},n=t.attributes[r]||{},a=t.elements[r];!$(a)||!V(a)||(Object.assign(a.style,i),Object.keys(n).forEach(function(c){var s=n[c];s===!1?a.removeAttribute(c):a.setAttribute(c,s===!0?"":s)}))})}function $e(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(i){var n=t.elements[i],a=t.attributes[i]||{},c=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:r[i]),s=c.reduce(function(o,p){return o[p]="",o},{});!$(n)||!V(n)||(Object.assign(n.style,s),Object.keys(a).forEach(function(o){n.removeAttribute(o)}))})}}const Se={name:"applyStyles",enabled:!0,phase:"write",fn:Be,effect:$e,requires:["computeStyles"]};function _(e){return e.split("-")[0]}var Y=Math.max,gt=Math.min,Q=Math.round;function At(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function te(){return!/^((?!chrome|android).)*safari/i.test(At())}function Z(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var i=e.getBoundingClientRect(),n=1,a=1;t&&$(e)&&(n=e.offsetWidth>0&&Q(i.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Q(i.height)/e.offsetHeight||1);var c=G(e)?B(e):window,s=c.visualViewport,o=!te()&&r,p=(i.left+(o&&s?s.offsetLeft:0))/n,f=(i.top+(o&&s?s.offsetTop:0))/a,h=i.width/n,y=i.height/a;return{width:h,height:y,top:f,right:p+h,bottom:f+y,left:p,x:p,y:f}}function Dt(e){var t=Z(e),r=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:i}}function ee(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&Pt(r)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function H(e){return B(e).getComputedStyle(e)}function Me(e){return["table","td","th"].indexOf(V(e))>=0}function N(e){return((G(e)?e.ownerDocument:e.document)||window.document).documentElement}function yt(e){return V(e)==="html"?e:e.assignedSlot||e.parentNode||(Pt(e)?e.host:null)||N(e)}function qt(e){return!$(e)||H(e).position==="fixed"?null:e.offsetParent}function Te(e){var t=/firefox/i.test(At()),r=/Trident/i.test(At());if(r&&$(e)){var i=H(e);if(i.position==="fixed")return null}var n=yt(e);for(Pt(n)&&(n=n.host);$(n)&&["html","body"].indexOf(V(n))<0;){var a=H(n);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return n;n=n.parentNode}return null}function ct(e){for(var t=B(e),r=qt(e);r&&Me(r)&&H(r).position==="static";)r=qt(r);return r&&(V(r)==="html"||V(r)==="body"&&H(r).position==="static")?t:r||Te(e)||t}function jt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function it(e,t,r){return Y(e,gt(t,r))}function We(e,t,r){var i=it(e,t,r);return i>r?r:i}function re(){return{top:0,right:0,bottom:0,left:0}}function ne(e){return Object.assign({},re(),e)}function ie(e,t){return t.reduce(function(r,i){return r[i]=e,r},{})}var _e=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,ne(typeof t!="number"?t:ie(t,ft))};function Ve(e){var t,r=e.state,i=e.name,n=e.options,a=r.elements.arrow,c=r.modifiersData.popperOffsets,s=_(r.placement),o=jt(s),p=[R,M].indexOf(s)>=0,f=p?"height":"width";if(!(!a||!c)){var h=_e(n.padding,r),y=Dt(a),l=o==="y"?k:R,w=o==="y"?S:M,v=r.rects.reference[f]+r.rects.reference[o]-c[o]-r.rects.popper[f],d=c[o]-r.rects.reference[o],b=ct(a),O=b?o==="y"?b.clientHeight||0:b.clientWidth||0:0,A=v/2-d/2,u=h[l],m=O-y[f]-h[w],g=O/2-y[f]/2+A,x=it(u,g,m),P=o;r.modifiersData[i]=(t={},t[P]=x,t.centerOffset=x-g,t)}}function He(e){var t=e.state,r=e.options,i=r.element,n=i===void 0?"[data-popper-arrow]":i;n!=null&&(typeof n=="string"&&(n=t.elements.popper.querySelector(n),!n)||ee(t.elements.popper,n)&&(t.elements.arrow=n))}const Ie={name:"arrow",enabled:!0,phase:"main",fn:Ve,effect:He,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function tt(e){return e.split("-")[1]}var Ne={top:"auto",right:"auto",bottom:"auto",left:"auto"};function qe(e,t){var r=e.x,i=e.y,n=t.devicePixelRatio||1;return{x:Q(r*n)/n||0,y:Q(i*n)/n||0}}function Ft(e){var t,r=e.popper,i=e.popperRect,n=e.placement,a=e.variation,c=e.offsets,s=e.position,o=e.gpuAcceleration,p=e.adaptive,f=e.roundOffsets,h=e.isFixed,y=c.x,l=y===void 0?0:y,w=c.y,v=w===void 0?0:w,d=typeof f=="function"?f({x:l,y:v}):{x:l,y:v};l=d.x,v=d.y;var b=c.hasOwnProperty("x"),O=c.hasOwnProperty("y"),A=R,u=k,m=window;if(p){var g=ct(r),x="clientHeight",P="clientWidth";if(g===B(r)&&(g=N(r),H(g).position!=="static"&&s==="absolute"&&(x="scrollHeight",P="scrollWidth")),g=g,n===k||(n===R||n===M)&&a===ot){u=S;var C=h&&g===m&&m.visualViewport?m.visualViewport.height:g[x];v-=C-i.height,v*=o?1:-1}if(n===R||(n===k||n===S)&&a===ot){A=M;var E=h&&g===m&&m.visualViewport?m.visualViewport.width:g[P];l-=E-i.width,l*=o?1:-1}}var D=Object.assign({position:s},p&&Ne),T=f===!0?qe({x:l,y:v},B(r)):{x:l,y:v};if(l=T.x,v=T.y,o){var j;return Object.assign({},D,(j={},j[u]=O?"0":"",j[A]=b?"0":"",j.transform=(m.devicePixelRatio||1)<=1?"translate("+l+"px, "+v+"px)":"translate3d("+l+"px, "+v+"px, 0)",j))}return Object.assign({},D,(t={},t[u]=O?v+"px":"",t[A]=b?l+"px":"",t.transform="",t))}function Fe(e){var t=e.state,r=e.options,i=r.gpuAcceleration,n=i===void 0?!0:i,a=r.adaptive,c=a===void 0?!0:a,s=r.roundOffsets,o=s===void 0?!0:s,p={placement:_(t.placement),variation:tt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Ft(Object.assign({},p,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:c,roundOffsets:o})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ft(Object.assign({},p,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:o})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const ze={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Fe,data:{}};var ht={passive:!0};function Ue(e){var t=e.state,r=e.instance,i=e.options,n=i.scroll,a=n===void 0?!0:n,c=i.resize,s=c===void 0?!0:c,o=B(t.elements.popper),p=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&p.forEach(function(f){f.addEventListener("scroll",r.update,ht)}),s&&o.addEventListener("resize",r.update,ht),function(){a&&p.forEach(function(f){f.removeEventListener("scroll",r.update,ht)}),s&&o.removeEventListener("resize",r.update,ht)}}const Xe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ue,data:{}};var Ye={left:"right",right:"left",bottom:"top",top:"bottom"};function mt(e){return e.replace(/left|right|bottom|top/g,function(t){return Ye[t]})}var Ge={start:"end",end:"start"};function zt(e){return e.replace(/start|end/g,function(t){return Ge[t]})}function kt(e){var t=B(e),r=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:r,scrollTop:i}}function Rt(e){return Z(N(e)).left+kt(e).scrollLeft}function Je(e,t){var r=B(e),i=N(e),n=r.visualViewport,a=i.clientWidth,c=i.clientHeight,s=0,o=0;if(n){a=n.width,c=n.height;var p=te();(p||!p&&t==="fixed")&&(s=n.offsetLeft,o=n.offsetTop)}return{width:a,height:c,x:s+Rt(e),y:o}}function Ke(e){var t,r=N(e),i=kt(e),n=(t=e.ownerDocument)==null?void 0:t.body,a=Y(r.scrollWidth,r.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),c=Y(r.scrollHeight,r.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),s=-i.scrollLeft+Rt(e),o=-i.scrollTop;return H(n||r).direction==="rtl"&&(s+=Y(r.clientWidth,n?n.clientWidth:0)-a),{width:a,height:c,x:s,y:o}}function Lt(e){var t=H(e),r=t.overflow,i=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+n+i)}function ae(e){return["html","body","#document"].indexOf(V(e))>=0?e.ownerDocument.body:$(e)&&Lt(e)?e:ae(yt(e))}function at(e,t){var r;t===void 0&&(t=[]);var i=ae(e),n=i===((r=e.ownerDocument)==null?void 0:r.body),a=B(i),c=n?[a].concat(a.visualViewport||[],Lt(i)?i:[]):i,s=t.concat(c);return n?s:s.concat(at(yt(c)))}function Et(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Qe(e,t){var r=Z(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function Ut(e,t,r){return t===Qt?Et(Je(e,r)):G(t)?Qe(t,r):Et(Ke(N(e)))}function Ze(e){var t=at(yt(e)),r=["absolute","fixed"].indexOf(H(e).position)>=0,i=r&&$(e)?ct(e):e;return G(i)?t.filter(function(n){return G(n)&&ee(n,i)&&V(n)!=="body"}):[]}function tr(e,t,r,i){var n=t==="clippingParents"?Ze(e):[].concat(t),a=[].concat(n,[r]),c=a[0],s=a.reduce(function(o,p){var f=Ut(e,p,i);return o.top=Y(f.top,o.top),o.right=gt(f.right,o.right),o.bottom=gt(f.bottom,o.bottom),o.left=Y(f.left,o.left),o},Ut(e,c,i));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function oe(e){var t=e.reference,r=e.element,i=e.placement,n=i?_(i):null,a=i?tt(i):null,c=t.x+t.width/2-r.width/2,s=t.y+t.height/2-r.height/2,o;switch(n){case k:o={x:c,y:t.y-r.height};break;case S:o={x:c,y:t.y+t.height};break;case M:o={x:t.x+t.width,y:s};break;case R:o={x:t.x-r.width,y:s};break;default:o={x:t.x,y:t.y}}var p=n?jt(n):null;if(p!=null){var f=p==="y"?"height":"width";switch(a){case K:o[p]=o[p]-(t[f]/2-r[f]/2);break;case ot:o[p]=o[p]+(t[f]/2-r[f]/2);break}}return o}function st(e,t){t===void 0&&(t={});var r=t,i=r.placement,n=i===void 0?e.placement:i,a=r.strategy,c=a===void 0?e.strategy:a,s=r.boundary,o=s===void 0?we:s,p=r.rootBoundary,f=p===void 0?Qt:p,h=r.elementContext,y=h===void 0?nt:h,l=r.altBoundary,w=l===void 0?!1:l,v=r.padding,d=v===void 0?0:v,b=ne(typeof d!="number"?d:ie(d,ft)),O=y===nt?xe:nt,A=e.rects.popper,u=e.elements[w?O:y],m=tr(G(u)?u:u.contextElement||N(e.elements.popper),o,f,c),g=Z(e.elements.reference),x=oe({reference:g,element:A,placement:n}),P=Et(Object.assign({},A,x)),C=y===nt?P:g,E={top:m.top-C.top+b.top,bottom:C.bottom-m.bottom+b.bottom,left:m.left-C.left+b.left,right:C.right-m.right+b.right},D=e.modifiersData.offset;if(y===nt&&D){var T=D[n];Object.keys(E).forEach(function(j){var q=[M,S].indexOf(j)>=0?1:-1,F=[k,S].indexOf(j)>=0?"y":"x";E[j]+=T[F]*q})}return E}function er(e,t){t===void 0&&(t={});var r=t,i=r.placement,n=r.boundary,a=r.rootBoundary,c=r.padding,s=r.flipVariations,o=r.allowedAutoPlacements,p=o===void 0?Zt:o,f=tt(i),h=f?s?Nt:Nt.filter(function(w){return tt(w)===f}):ft,y=h.filter(function(w){return p.indexOf(w)>=0});y.length===0&&(y=h);var l=y.reduce(function(w,v){return w[v]=st(e,{placement:v,boundary:n,rootBoundary:a,padding:c})[_(v)],w},{});return Object.keys(l).sort(function(w,v){return l[w]-l[v]})}function rr(e){if(_(e)===Ct)return[];var t=mt(e);return[zt(e),t,zt(t)]}function nr(e){var t=e.state,r=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var n=r.mainAxis,a=n===void 0?!0:n,c=r.altAxis,s=c===void 0?!0:c,o=r.fallbackPlacements,p=r.padding,f=r.boundary,h=r.rootBoundary,y=r.altBoundary,l=r.flipVariations,w=l===void 0?!0:l,v=r.allowedAutoPlacements,d=t.options.placement,b=_(d),O=b===d,A=o||(O||!w?[mt(d)]:rr(d)),u=[d].concat(A).reduce(function(J,I){return J.concat(_(I)===Ct?er(t,{placement:I,boundary:f,rootBoundary:h,padding:p,flipVariations:w,allowedAutoPlacements:v}):I)},[]),m=t.rects.reference,g=t.rects.popper,x=new Map,P=!0,C=u[0],E=0;E<u.length;E++){var D=u[E],T=_(D),j=tt(D)===K,q=[k,S].indexOf(T)>=0,F=q?"width":"height",L=st(t,{placement:D,boundary:f,rootBoundary:h,altBoundary:y,padding:p}),W=q?j?M:R:j?S:k;m[F]>g[F]&&(W=mt(W));var pt=mt(W),z=[];if(a&&z.push(L[T]<=0),s&&z.push(L[W]<=0,L[pt]<=0),z.every(function(J){return J})){C=D,P=!1;break}x.set(D,z)}if(P)for(var lt=w?3:1,bt=function(I){var rt=u.find(function(dt){var U=x.get(dt);if(U)return U.slice(0,I).every(function(wt){return wt})});if(rt)return C=rt,"break"},et=lt;et>0;et--){var ut=bt(et);if(ut==="break")break}t.placement!==C&&(t.modifiersData[i]._skip=!0,t.placement=C,t.reset=!0)}}const ir={name:"flip",enabled:!0,phase:"main",fn:nr,requiresIfExists:["offset"],data:{_skip:!1}};function Xt(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function Yt(e){return[k,M,S,R].some(function(t){return e[t]>=0})}function ar(e){var t=e.state,r=e.name,i=t.rects.reference,n=t.rects.popper,a=t.modifiersData.preventOverflow,c=st(t,{elementContext:"reference"}),s=st(t,{altBoundary:!0}),o=Xt(c,i),p=Xt(s,n,a),f=Yt(o),h=Yt(p);t.modifiersData[r]={referenceClippingOffsets:o,popperEscapeOffsets:p,isReferenceHidden:f,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":h})}const or={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ar};function sr(e,t,r){var i=_(e),n=[R,k].indexOf(i)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,c=a[0],s=a[1];return c=c||0,s=(s||0)*n,[R,M].indexOf(i)>=0?{x:s,y:c}:{x:c,y:s}}function fr(e){var t=e.state,r=e.options,i=e.name,n=r.offset,a=n===void 0?[0,0]:n,c=Zt.reduce(function(f,h){return f[h]=sr(h,t.rects,a),f},{}),s=c[t.placement],o=s.x,p=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=o,t.modifiersData.popperOffsets.y+=p),t.modifiersData[i]=c}const cr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:fr};function pr(e){var t=e.state,r=e.name;t.modifiersData[r]=oe({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const lr={name:"popperOffsets",enabled:!0,phase:"read",fn:pr,data:{}};function ur(e){return e==="x"?"y":"x"}function dr(e){var t=e.state,r=e.options,i=e.name,n=r.mainAxis,a=n===void 0?!0:n,c=r.altAxis,s=c===void 0?!1:c,o=r.boundary,p=r.rootBoundary,f=r.altBoundary,h=r.padding,y=r.tether,l=y===void 0?!0:y,w=r.tetherOffset,v=w===void 0?0:w,d=st(t,{boundary:o,rootBoundary:p,padding:h,altBoundary:f}),b=_(t.placement),O=tt(t.placement),A=!O,u=jt(b),m=ur(u),g=t.modifiersData.popperOffsets,x=t.rects.reference,P=t.rects.popper,C=typeof v=="function"?v(Object.assign({},t.rects,{placement:t.placement})):v,E=typeof C=="number"?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),D=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(g){if(a){var j,q=u==="y"?k:R,F=u==="y"?S:M,L=u==="y"?"height":"width",W=g[u],pt=W+d[q],z=W-d[F],lt=l?-P[L]/2:0,bt=O===K?x[L]:P[L],et=O===K?-P[L]:-x[L],ut=t.elements.arrow,J=l&&ut?Dt(ut):{width:0,height:0},I=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:re(),rt=I[q],dt=I[F],U=it(0,x[L],J[L]),wt=A?x[L]/2-lt-U-rt-E.mainAxis:bt-U-rt-E.mainAxis,ce=A?-x[L]/2+lt+U+dt+E.mainAxis:et+U+dt+E.mainAxis,xt=t.elements.arrow&&ct(t.elements.arrow),pe=xt?u==="y"?xt.clientTop||0:xt.clientLeft||0:0,Bt=(j=D==null?void 0:D[u])!=null?j:0,le=W+wt-Bt-pe,ue=W+ce-Bt,$t=it(l?gt(pt,le):pt,W,l?Y(z,ue):z);g[u]=$t,T[u]=$t-W}if(s){var St,de=u==="x"?k:R,ve=u==="x"?S:M,X=g[m],vt=m==="y"?"height":"width",Mt=X+d[de],Tt=X-d[ve],Ot=[k,R].indexOf(b)!==-1,Wt=(St=D==null?void 0:D[m])!=null?St:0,_t=Ot?Mt:X-x[vt]-P[vt]-Wt+E.altAxis,Vt=Ot?X+x[vt]+P[vt]-Wt-E.altAxis:Tt,Ht=l&&Ot?We(_t,X,Vt):it(l?_t:Mt,X,l?Vt:Tt);g[m]=Ht,T[m]=Ht-X}t.modifiersData[i]=T}}const vr={name:"preventOverflow",enabled:!0,phase:"main",fn:dr,requiresIfExists:["offset"]};function hr(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function mr(e){return e===B(e)||!$(e)?kt(e):hr(e)}function gr(e){var t=e.getBoundingClientRect(),r=Q(t.width)/e.offsetWidth||1,i=Q(t.height)/e.offsetHeight||1;return r!==1||i!==1}function yr(e,t,r){r===void 0&&(r=!1);var i=$(t),n=$(t)&&gr(t),a=N(t),c=Z(e,n,r),s={scrollLeft:0,scrollTop:0},o={x:0,y:0};return(i||!i&&!r)&&((V(t)!=="body"||Lt(a))&&(s=mr(t)),$(t)?(o=Z(t,!0),o.x+=t.clientLeft,o.y+=t.clientTop):a&&(o.x=Rt(a))),{x:c.left+s.scrollLeft-o.x,y:c.top+s.scrollTop-o.y,width:c.width,height:c.height}}function br(e){var t=new Map,r=new Set,i=[];e.forEach(function(a){t.set(a.name,a)});function n(a){r.add(a.name);var c=[].concat(a.requires||[],a.requiresIfExists||[]);c.forEach(function(s){if(!r.has(s)){var o=t.get(s);o&&n(o)}}),i.push(a)}return e.forEach(function(a){r.has(a.name)||n(a)}),i}function wr(e){var t=br(e);return Le.reduce(function(r,i){return r.concat(t.filter(function(n){return n.phase===i}))},[])}function xr(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function Or(e){var t=e.reduce(function(r,i){var n=r[i.name];return r[i.name]=n?Object.assign({},n,i,{options:Object.assign({},n.options,i.options),data:Object.assign({},n.data,i.data)}):i,r},{});return Object.keys(t).map(function(r){return t[r]})}var Gt={placement:"bottom",modifiers:[],strategy:"absolute"};function Jt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Ar(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,i=r===void 0?[]:r,n=t.defaultOptions,a=n===void 0?Gt:n;return function(s,o,p){p===void 0&&(p=a);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},Gt,a),modifiersData:{},elements:{reference:s,popper:o},attributes:{},styles:{}},h=[],y=!1,l={state:f,setOptions:function(b){var O=typeof b=="function"?b(f.options):b;v(),f.options=Object.assign({},a,f.options,O),f.scrollParents={reference:G(s)?at(s):s.contextElement?at(s.contextElement):[],popper:at(o)};var A=wr(Or([].concat(i,f.options.modifiers)));return f.orderedModifiers=A.filter(function(u){return u.enabled}),w(),l.update()},forceUpdate:function(){if(!y){var b=f.elements,O=b.reference,A=b.popper;if(Jt(O,A)){f.rects={reference:yr(O,ct(A),f.options.strategy==="fixed"),popper:Dt(A)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(E){return f.modifiersData[E.name]=Object.assign({},E.data)});for(var u=0;u<f.orderedModifiers.length;u++){if(f.reset===!0){f.reset=!1,u=-1;continue}var m=f.orderedModifiers[u],g=m.fn,x=m.options,P=x===void 0?{}:x,C=m.name;typeof g=="function"&&(f=g({state:f,options:P,name:C,instance:l})||f)}}}},update:xr(function(){return new Promise(function(d){l.forceUpdate(),d(f)})}),destroy:function(){v(),y=!0}};if(!Jt(s,o))return l;l.setOptions(p).then(function(d){!y&&p.onFirstUpdate&&p.onFirstUpdate(d)});function w(){f.orderedModifiers.forEach(function(d){var b=d.name,O=d.options,A=O===void 0?{}:O,u=d.effect;if(typeof u=="function"){var m=u({state:f,name:b,instance:l,options:A}),g=function(){};h.push(m||g)}})}function v(){h.forEach(function(d){return d()}),h=[]}return l}}var Er=[Xe,lr,ze,Se,cr,ir,vr,Ie,or],Cr=Ar({defaultModifiers:Er});const Pr=":host{display:block;width:-moz-max-content;width:max-content;opacity:0;visibility:hidden;z-index:999}:host(.visible){opacity:1;visibility:visible}.dss-action-menu{border-radius:var(--dss-radius-sm);box-shadow:0 1px 3px #0000001a,0 4px 8px 3px #0000000d;min-width:160px;width:-moz-max-content;width:max-content;max-width:280px;background-color:var(--color-white)}.dss-action-menu--full-width{width:100%}",Dr=e=>me`
  <ul
    class=${be({"dss-action-menu":!0,"dss-action-menu--full-width":!!e._fullWidth})}
  >
    <slot></slot>
  </ul>
`;var jr=Object.defineProperty,kr=Object.getOwnPropertyDescriptor,se=(e,t,r,i)=>{for(var n=kr(t,r),a=e.length-1,c;a>=0;a--)(c=e[a])&&(n=c(t,r,n)||n);return n&&jr(t,r,n),n};class fe extends he{constructor(){super(...arguments),this._fullWidth=!1,this._popperInstance=null,this._parent=null,this._position="right-start",this._isVisible=!1}static get styles(){return[It(ge),It(Pr)]}connectedCallback(){super.connectedCallback(),this.addEventListener("onClose",this._handleCloseAllMenus)}disconnectedCallback(){this.removeEventListener("onClose",this._handleCloseAllMenus),this._popperInstance&&(this._popperInstance.destroy(),this._popperInstance=null)}set fullWidth(t){const r=this._fullWidth;this._fullWidth=t,this.requestUpdate("fullWidth",r)}set position(t){const r=this._position;this._position=t,this.requestUpdate("fullWidth",r)}createPopperInstance(t){this._popperInstance=Cr(t,this,{placement:this._position,modifiers:[{name:"flip",enabled:!0,options:{boundary:"viewport",rootBoundary:"viewport"}},{name:"preventOverflow",enabled:!0,options:{boundary:"viewport"}},{name:"offset",options:{offset:[0,8]}}]}),t.addEventListener("click",()=>{this._isVisible||(this._popperInstance.update(),this.classList.add("visible"),this._isVisible=!0)})}_handleCloseAllMenus(){this._closeMenu()}_handleSlotChange(){var r;const t=(r=this.shadowRoot)==null?void 0:r.querySelector("slot");if(t){const i=t.assignedElements({flatten:!0}).filter(n=>n.tagName.toLowerCase()==="dss-action-menu-item");i.forEach((n,a)=>{a===0?n.setAttribute("first",""):n.removeAttribute("first"),a===i.length-1?n.setAttribute("last",""):n.removeAttribute("last")})}}_clickOutside(){document.addEventListener("click",t=>{const r=t.composedPath(),i=r.includes(this._parent);!r.some(a=>a instanceof HTMLElement&&(a.tagName.toLowerCase()==="dss-action-menu"||a.tagName.toLowerCase()==="ul"&&a.classList.contains("dss-action-menu")))&&!i&&this._closeMenu()})}_closeMenu(){setTimeout(()=>{this.classList.contains("visible")&&(this.classList.remove("visible"),this._isVisible=!1)},0)}async firstUpdated(){var i;await this.updateComplete;const t=this.assignedSlot;this._parent=t?t.parentElement:this.parentElement,this._parent&&this.createPopperInstance(this._parent);const r=(i=this.shadowRoot)==null?void 0:i.querySelector("slot");r&&r.addEventListener("slotchange",()=>this._handleSlotChange()),this._handleSlotChange(),setTimeout(()=>{this._clickOutside()},0)}render(){return Dr(this)}}se([Kt(ye)],fe.prototype,"fullWidth");se([Kt({type:String})],fe.prototype,"position");export{fe as A,Cr as c};
