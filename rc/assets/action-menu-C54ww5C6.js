import{r,a as l}from"./lit-element-vV9fql9z.js";import{x as d}from"./lit-html-paDGiEfB.js";import{n as c}from"./property-CzN8u98o.js";import{r as u}from"./reset.style-B0CQ8619.js";import{b as h}from"./property-types-CkH-zh1n.js";import{e as m}from"./class-map-2iHk_WiG.js";const f=":host{display:block;width:100%}.dss-action-menu{border-radius:var(--dss-radius-sm);box-shadow:0 1px 3px #0000001a,0 4px 8px 3px #0000000d;min-width:160px;width:-moz-max-content;width:max-content;max-width:280px;background-color:var(--color-white)}.dss-action-menu--full-width{width:100%}",p=i=>d`
  <ul
    class=${m({"dss-action-menu":!0,"dss-action-menu--full-width":!!i._fullWidth})}
  >
    <slot></slot>
  </ul>
`;var w=Object.defineProperty,_=Object.getOwnPropertyDescriptor,b=(i,e,s,n)=>{for(var t=_(e,s),o=i.length-1,a;o>=0;o--)(a=i[o])&&(t=a(e,s,t)||t);return t&&w(e,s,t),t};class g extends r{constructor(){super(...arguments),this._fullWidth=!1}static get styles(){return[l(u),l(f)]}set fullWidth(e){const s=this._fullWidth;this._fullWidth=e,this.requestUpdate("fullWidth",s)}_handleSlotChange(){var s;const e=(s=this.shadowRoot)==null?void 0:s.querySelector("slot");if(e){const n=e.assignedElements({flatten:!0}).filter(t=>t.tagName.toLowerCase()==="dss-action-menu-item");n.forEach((t,o)=>{o===0?t.setAttribute("first",""):t.removeAttribute("first"),o===n.length-1?t.setAttribute("last",""):t.removeAttribute("last")})}}_clickOutside(){document.addEventListener("click",e=>{e.composedPath().some(t=>t instanceof HTMLElement&&(t.tagName.toLowerCase()==="dss-action-menu"||t.tagName.toLowerCase()==="ul"&&t.classList.contains("dss-action-menu")))||this._handleClickOutside()})}_handleClickOutside(){this.dispatchEvent(new CustomEvent("onClickOutside",{bubbles:!1,composed:!1}))}firstUpdated(){var s;const e=(s=this.shadowRoot)==null?void 0:s.querySelector("slot");e&&e.addEventListener("slotchange",()=>this._handleSlotChange()),this._handleSlotChange(),setTimeout(()=>{this._clickOutside()},0)}render(){return p(this)}}b([c(h)],g.prototype,"fullWidth");export{g as A};
