import{r as k,a as h}from"./lit-element-vV9fql9z.js";import{E as $}from"./lit-html-paDGiEfB.js";import{b as m}from"./property-types-CkH-zh1n.js";import{n as o}from"./property-CzN8u98o.js";import{i as S}from"./icon.style-DPTab5RN.js";import{b as D}from"./button.style-2dqsCQot.js";import{e as _}from"./class-map-2iHk_WiG.js";import{i as q,s as C,g as L,u as b}from"./custom-element-scope-KJWplpvx.js";const U="*{scrollbar-width:thin;scrollbar-color:var(--color-neutral-100) var(--color-white)}*::-webkit-scrollbar{width:6px}*::-webkit-scrollbar-track{background:var(--color-white);border-radius:128px}*::-webkit-scrollbar-thumb{background-color:var(--color-neutral-100);border-radius:128px}",V='.dss-input-group{position:relative;font-family:var(--font-family)}.dss-input-group--md{height:40px}.dss-input-group--lg{height:48px}.dss-input-group--has-icon ::slotted(label),.dss-input-group--has-icon .dss-input-label{left:calc(var(--dss-spacing-sm) + 24px + var(--dss-spacing-xs))}.dss-input-group--has-icon .dss-input-icon{display:block}.dss-input-group--has-icon ::slotted(input),.dss-input-group--has-icon .dss-input{padding-left:calc(var(--dss-spacing-sm) + 24px + var(--dss-spacing-xs))!important}.dss-input-group--numeric ::slotted(input),.dss-input-group--numeric .dss-input{padding-right:calc(var(--dss-spacing-sm) + 24px + var(--dss-spacing-xs))!important}.dss-input-group--dropdown ::slotted(input),.dss-input-group--dropdown .dss-input{padding-right:calc(var(--dss-spacing-sm) + 24px + var(--dss-spacing-xxs))!important}.dss-input-group--disabled{cursor:not-allowed}.dss-input-group--disabled ::slotted(label),.dss-input-group--disabled .dss-input-label,.dss-input-group--disabled .dss-input-icon{color:var(--color-neutral-500)}.dss-input-group--required ::slotted(label):before,.dss-input-group--required .dss-input-label:before{content:"*"}.dss-input-group--invalid ::slotted(label),.dss-input-group--invalid .dss-input-label,.dss-input-group--invalid .dss-input-icon{color:var(--color-red-500)}.dss-input-group--invalid ::slotted(input){background-color:var(--color-red-50);border-color:var(--color-red-500)}.dss-input-group--invalid ::slotted(input:focus-visible){background-color:var(--color-white)}::slotted(input),.dss-input{position:relative;box-sizing:border-box;height:100%;width:100%;min-width:200px;font-size:14px;font-family:inherit;color:var(--color-neutral-900);background-color:var(--color-white);border-radius:var(--dss-radius-sm);border:var(--dss-border-width-sm) solid var(--color-neutral-100);padding-top:var(--dss-spacing-md)!important;padding-right:var(--dss-spacing-sm)!important;padding-bottom:var(--dss-spacing-xxs)!important;padding-left:var(--dss-spacing-sm)!important;z-index:100;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}::slotted(input::-moz-placeholder),.dss-input::-moz-placeholder{color:var(--color-neutral-600);opacity:0;-moz-transition:opacity .5s;transition:opacity .5s}::slotted(input::placeholder),.dss-input::placeholder{color:var(--color-neutral-600);opacity:0;transition:opacity .5s}::slotted(input:focus-visible),.dss-input:focus-visible{border-color:var(--color-blue-200);outline:var(--dss-border-width-lg) solid var(--color-blue-200)}::slotted(input:disabled),.dss-input:disabled{cursor:not-allowed;background-color:var(--color-neutral-50);color:var(--color-neutral-500)}.dss-input-group--invalid .dss-input:not(:focus-visible){background-color:var(--color-red-50);border-color:var(--color-red-500)}::slotted(input:invalid:not(:empty)),::slotted(input.ng-invalid:not(:empty)),.dss-input:invalid:not(:empty){background-color:var(--color-red-50);border-color:var(--color-red-500)}.dss-input-group--read-only ::slotted(input),.dss-input-group--read-only .dss-input{border-top:0;border-left:0;border-right:0;border-radius:0}::slotted(label),.dss-input-label{cursor:inherit;position:absolute;top:calc(50% - 12px);left:var(--dss-spacing-sm);z-index:200;font-size:14px;font-family:inherit;color:var(--color-neutral-600);transition:top .3s;-moz-transition:top .3s;-webkit-transition:top .3s;-o-transition:top .3s;max-height:24px;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;width:calc(100% - var(--dss-spacing-lg))}.dss-input-group--has-icon ::slotted(label){width:calc(100% - var(--dss-spacing-xhg))}.dss-input-group--dropdown ::slotted(label){width:calc(100% - var(--dss-spacing-hg))}.dss-input-group--numeric ::slotted(label){width:calc(100% - var(--dss-spacing-hg))}.dss-input-group--has-icon.dss-input-group--numeric ::slotted(label),.dss-input-group--has-icon.dss-input-group--dropdown ::slotted(label){width:calc(100% - var(--dss-spacing-xxhg))}.dss-input-group--actions ::slotted(label){width:calc(100% - var(--dss-spacing-xhg))}.dss-input-group--actions.dss-input-group--numeric ::slotted(label){width:calc(100% - var(--dss-spacing-xxhg))}.dss-input-group--has-icon.dss-input-group--actions ::slotted(label){width:calc(100% - 96px)}.dss-input-group--has-icon.dss-input-group--actions.dss-input-group--numeric ::slotted(label){width:calc(100% - 112px)}.dss-input-group--actions.dss-input-group--has-secondary-action ::slotted(label){width:calc(100% - 112px)}.dss-input-group--has-icon.dss-input-group--actions.dss-input-group--has-secondary-action ::slotted(label){width:calc(100% - 144px)}.dss-input-icon{display:none;position:absolute;top:calc(50% - 12px);left:var(--dss-spacing-sm);color:var(--color-neutral-700);z-index:200}.dss-input-group--focused ::slotted(label),.dss-input-group--focused .dss-input-label{font-size:12px}.dss-input-group--md.dss-input-group--focused ::slotted(label),.dss-input-group--md.dss-input-group--focused .dss-input-label{top:0}.dss-input-group--lg.dss-input-group--focused ::slotted(label),.dss-input-group--lg.dss-input-group--focused .dss-input-label{top:var(--dss-spacing-tiny)}.dss-input-group--focused .dss-input::-moz-placeholder{opacity:1}.dss-input-group--focused .dss-input::placeholder{opacity:1}.dss-input-help{display:flex;justify-content:space-between;font-family:var(--font-family);font-size:12px;color:var(--color-neutral-700);padding:var(--dss-spacing-xxs) var(--dss-spacing-sm)}.dss-input-help--disabled{color:var(--color-neutral-500)}.dss-input-help--invalid{color:var(--color-red-500)}.dss-input__numeric-buttons{position:absolute;top:0;right:0;z-index:300;padding:0 var(--dss-spacing-sm);display:flex;flex-direction:column;justify-content:center;transition:all .3s ease-in;height:100%}.dss-input__numeric-buttons .dss-icon-button{display:flex;justify-content:center;text-align:center;width:18px;height:18px;align-items:center;font-size:16px}.dss-input-group--no-min-width ::slotted(input){min-width:0}.dss-input-group--no-label ::slotted(input),.dss-input-group--no-label .dss-input{padding-top:var(--dss-spacing-xxs)!important}',T=".dss-datepicker{position:relative}.dss-datepicker-help{font-family:var(--font-family)}.dss-datepicker-help{font-family:inherit;font-size:12px;color:var(--color-neutral-700);padding:var(--dss-spacing-xxs) var(--dss-spacing-sm)}.dss-datepicker-help--disabled{color:var(--color-neutral-500)}.dss-datepicker-help--invalid{color:var(--color-red-500)}.dss-calendar{position:absolute;margin-top:8px;top:52px;z-index:900;width:-moz-fit-content;width:fit-content}.dss-calendar--md{top:44px}";/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const z=i=>i??$,v=q`dss-calendar${C(L())}`,H=i=>{var r,a;const t={"dss-input-group--focused":((r=i._input)==null?void 0:r.value)||i._placeholder||i._isFocused,"dss-input-group--lg":i._inputSize==="lg","dss-input-group--md":i._inputSize==="md","dss-input-group--invalid":i._invalid||!i._inputValidity,"dss-input-group--required":i._required,"dss-input-group--disabled":i._disabled,"dss-input-group--read-only":i._readonly,"dss-input-group--no-label":!i._labelSlot},s={"dss-datepicker-help--invalid":i._invalid||!i._inputValidity,"dss-datepicker-help--disabled":i._disabled},e={"dss-calendar":!0,"dss-calendar--disabled":i._disabled,"dss-calendar--md":i._inputSize==="md"};return b`
    <div class="dss-datepicker">
      <div
        class="dss-input-group dss-input-group--has-icon ${_(t)}"
        role="combobox"
        aria-controls="datepicker-calendar"
        aria-expanded=${z(i._showCalendar)}
      >
        <span class="dss-icon dss-icon--md dss-input-icon"
          >${i._icon}</span
        >
        <slot
          name="input"
          @click=${i._handleClick}
          @input=${i._handleInput}
          @focusin=${i._handleFocus}
          @focusout=${i._handleBlur}
          @keydown=${i._handleKeyUp}
        ></slot>

        <slot name="label" @click=${i._focusInput}></slot>
      </div>
      ${i._helpText?b`
            <div class="dss-datepicker-help ${_(s)}">
              ${i._helpText}
            </div>
          `:null}
      ${i._showCalendar&&!i._readonly?b`
            <${v}
              role="listbox"
              aria-label="Datepicker Calendar"
              id="datepicker-calendar"
              class="${_(e)}"
              .selectedDate=${(a=i._input)==null?void 0:a.value}
              .showTime=${i._showTime}
              .showButtons=${i._showButtons}
              .leftLabel=${i._leftLabel}
              .rightLabel=${i._rightLabel}
              .minDate=${i._minDate}
              .maxDate=${i._maxDate}
              timepickerLabel=${i._timepickerLabel}
              .timepicker=${i._timepicker}
              .customTimeListOptions=${i._customTimeListOptions}
              .minutesRange=${i._minutesRange}
              .minHour=${i._minHour}
              .maxHour=${i._maxHour}
              @onDateChange=${i._onDateChange}
              @onCancel=${i._onCancel}
            ></${v}>
          `:null}
    </div>
  `};var R=Object.defineProperty,O=Object.getOwnPropertyDescriptor,l=(i,t,s,e)=>{for(var r=O(t,s),a=i.length-1,n;a>=0;a--)(n=i[a])&&(r=n(t,s,r)||r);return r&&R(t,s,r),r};class d extends k{constructor(){super(...arguments),this._timepickerLabel="Seleccionar l'hora",this._timepicker="",this._minutesRange=1,this._minHour=0,this._maxHour=24,this._customTimeListOptions=[],this._icon="calendar_today",this._placeholder="",this._externalPlaceholder="",this._previousDate="",this._minDate="",this._maxDate="",this._showCalendar=!1,this._showTime=!1,this._invalid=!1,this._showButtons=!1,this._required=!1,this._disabled=!1,this._readonly=!1,this._leftLabel="Cancel·lar",this._rightLabel="Seleccionar",this._isFocused=!1,this._helpText="",this._inputSize="lg",this._inputValidity=!0,this.observerConfig={attributes:!0,childList:!0,subtree:!0},this.callback=t=>{for(const s of t)s.type==="attributes"&&(this._checkInputAttributes(),this.requestUpdate())},this.observer=new MutationObserver(this.callback)}static get styles(){return[h(S),h(D),h(V),h(U),h(T)]}get _input(){var s;const t=((s=this.shadowRoot)==null?void 0:s.querySelector('slot[name="input"]'))||void 0;return this.requestUpdate(),t==null?void 0:t.assignedElements()[0]}get _labelSlot(){var s;const t=((s=this.shadowRoot)==null?void 0:s.querySelector('slot[name="label"]'))||void 0;return t==null?void 0:t.assignedElements()[0]}get _label(){var s;const t=((s=this.shadowRoot)==null?void 0:s.querySelector('slot[name="label"]'))||void 0;return this.requestUpdate(),t==null?void 0:t.assignedElements()[0]}set showTime(t){const s=this._showTime;this._showTime=t,this._showButtons=!0,this.requestUpdate("showTime",s)}set showButtons(t){const s=this._showButtons;this._showButtons=t,this.requestUpdate("showButtons",s)}set leftLabel(t){const s=this._leftLabel;this._leftLabel=t,this.requestUpdate("leftLabel",s)}set rightLabel(t){const s=this._rightLabel;this._rightLabel=t,this.requestUpdate("rightLabel",s)}set minDate(t){const s=this._minDate;this._minDate=t,this.requestUpdate("minDate",s)}set maxDate(t){const s=this._maxDate;this._maxDate=t,this.requestUpdate("maxDate",s)}set invalid(t){const s=this._invalid;this._invalid=t,this.requestUpdate("invalid",s)}set inputSize(t){const s=this._inputSize;t==="md"?this._inputSize=t:this._inputSize="lg",this.requestUpdate("inputSize",s)}set helpText(t){const s=this._helpText;this._helpText=t,this.requestUpdate("helpText",s)}set timepicker(t){const s=this._timepicker;this._timepicker=t,this.requestUpdate("timepicker",s)}set minutesRange(t){const s=this._minutesRange;this._minutesRange=t,this.requestUpdate("minutesRange",s)}set minHour(t){const s=this._minHour;this._minHour=t,this.requestUpdate("minHour",s)}set maxHour(t){const s=this._maxHour;this._maxHour=t,this.requestUpdate("maxHour",s)}set customTimeListOptions(t){const s=this._customTimeListOptions;this._customTimeListOptions=t,this.requestUpdate("customTimeListOptions",s)}set timepickerLabel(t){const s=this._timepickerLabel;this._timepickerLabel=t,this.requestUpdate("timepickerLabel",s)}set value(t){t!==void 0&&this.requestUpdate()}set icon(t){const s=this._icon;this._icon=t,this.requestUpdate("icon",s)}disconnectedCallback(){this.observer.disconnect()}async firstUpdated(){try{await this.updateComplete,this._input&&(this._checkInputAttributes(),this.observer.observe(this._input,this.observerConfig)),this._closeDropdown(),this.requestUpdate()}catch{console.error("ERROR OCURRED")}}_checkInputAttributes(){var a,n,u,p,c,g;const t=(a=this._input)==null?void 0:a.getAttribute("placeholder");t&&(this._placeholder=t,this._externalPlaceholder=t);const s=(n=this._input)==null?void 0:n.getAttribute("readonly");this._readonly=s!==null;const e=(u=this._input)==null?void 0:u.getAttribute("disabled");this._disabled=e!==null;const r=(p=this._input)==null?void 0:p.getAttribute("required");this._required=r!==null,(c=this._input)!=null&&c.value&&((g=this._input)==null?void 0:g.value)!==""&&this._handleValidity(),this.requestUpdate()}_handleValidity(){var s;const t=(s=this._input)==null?void 0:s.checkValidity();t!==void 0&&(this._inputValidity=t)}_closeDropdown(){document.addEventListener("click",t=>{var s;t.composedPath().includes(this)||this._showCalendar&&(this._placeholder="",(s=this._input)==null||s.removeAttribute("placeholder"),this._isFocused=!1,this._showCalendar=!1,this.requestUpdate())}),this.addEventListener("focusout",t=>{var e;const s=t.relatedTarget;s!==null&&s!==this&&s!==this._input&&s!==this._label&&this._showCalendar&&((e=this._input)==null||e.removeAttribute("placeholder"),this._placeholder="",this._isFocused=!1,this._showCalendar=!1,this.requestUpdate())})}_handleKeyUp(t){var s,e,r,a,n;if((t==null?void 0:t.key)==="Tab"?(this._isFocused=!0,this._handleBlur()):(t==null?void 0:t.key)==="Enter"||(t==null?void 0:t.key)===" "?(this._showCalendar=!0,this._handleBlur()):(t==null?void 0:t.key)==="Escape"&&(this._isFocused=!0,this._showCalendar=!1,this._handleBlur()),t.key==="Enter"&&this._input&&((s=this._input.value)==null?void 0:s.length)>7&&this._input){const u=(e=this._input.value)==null?void 0:e.replace(/(\d+[/])(\d+[/])/,"$2$1"),p=new Date(u),c=(r=p.getDate())==null?void 0:r.toString().padStart(2,"0"),g=(p.getMonth()+1).toString().padStart(2,"0"),y=p.getFullYear(),x=(a=p.getHours())==null?void 0:a.toString().padStart(2,"0"),w=(n=p.getMinutes())==null?void 0:n.toString().padStart(2,"0");let f=`${c}/${g}/${y}`;this._showTime&&(f+=` ${x}:${w}`,this._handleValidity()),this._input&&(this._input.value=f),this._dispatchValueChange(),this.requestUpdate()}}_handleInput(t){var e;const s=(e=t.target.value)==null?void 0:e.replace(/\D/g,"");this._input&&(this._input.value=this._formatDate(s),this._handleValidity()),this._dispatchValueChange(),this.requestUpdate()}_formatDate(t){let s=t.substring(0,2),e=t.substring(2,4);const r=t.substring(4,8);let a=t.substring(8,10),n=t.substring(10,12);Number(s)>3&&(s=s==null?void 0:s.padStart(2,"0")),Number(e)>1&&(e=e==null?void 0:e.padStart(2,"0")),Number(s)>31&&(s="31"),Number(e)>12&&(e="12"),e==="02"&&Number(s)>28&&(r==null?void 0:r.length)===4&&(s=new Date(Number(r),1,29).getMonth()===1?"29":"28");let u=`${s}${e?`/${e}`:""}${r?`/${r}`:""}`;return this._showTime&&(Number(a)>2&&(a=a==null?void 0:a.padStart(2,"0")),Number(a)>23&&(a="23"),Number(n)>5&&(n=n==null?void 0:n.padStart(2,"0")),u=`${u}${a?` ${a}`:""}${n?`:${n}`:""}`),u}_handleFocus(){var t;this._readonly||(this._externalPlaceholder!==""?this._placeholder=this._externalPlaceholder:this._placeholder=this._showTime?"DD/MM/YYYY HH:MM":"DD/MM/YYYY",(t=this._input)==null||t.setAttribute("placeholder",this._placeholder),this.requestUpdate())}_handleBlur(){this.requestUpdate()}_focusInput(){var t;!this._disabled&&!this._readonly&&((t=this._input)==null||t.focus(),this._handleClick())}_handleClick(){this._showCalendar=!0,this.requestUpdate()}_onDateChange(t){var e;const s=t.detail;this._input&&(this._input.value=s,this._handleValidity()),(e=this._input)==null||e.removeAttribute("placeholder"),this._placeholder="",this._isFocused=!1,this._showCalendar=!1,this._dispatchValueChange(),this.requestUpdate()}_onCancel(){var t;(t=this._input)==null||t.removeAttribute("placeholder"),this._placeholder="",this._isFocused=!1,this._showCalendar=!1,this._input&&(this._input.value=this._previousDate||"",this._handleValidity()),this.requestUpdate()}_dispatchValueChange(){var s;const t={detail:(s=this._input)==null?void 0:s.value,bubbles:!0,composed:!0};this.dispatchEvent(new CustomEvent("onValueChange",t))}render(){return H(this)}}l([o(m)],d.prototype,"showTime");l([o(m)],d.prototype,"showButtons");l([o({type:String})],d.prototype,"leftLabel");l([o({type:String})],d.prototype,"rightLabel");l([o({type:String})],d.prototype,"minDate");l([o({type:String})],d.prototype,"maxDate");l([o(m)],d.prototype,"invalid");l([o({type:String})],d.prototype,"inputSize");l([o({type:String})],d.prototype,"helpText");l([o({type:String})],d.prototype,"timepicker");l([o({type:Number})],d.prototype,"minutesRange");l([o({type:Number})],d.prototype,"minHour");l([o({type:Number})],d.prototype,"maxHour");l([o({type:Array})],d.prototype,"customTimeListOptions");l([o({type:String})],d.prototype,"timepickerLabel");l([o({type:String})],d.prototype,"value");l([o({type:String})],d.prototype,"icon");export{d as D,V as i,z as o,U as s};
